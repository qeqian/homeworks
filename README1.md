# 无标题

# C 语言与 STM32 总结

## 一、C 语言补充内容

1. **大小端：（以64位计算机为例）**
- **大端模式**：数据的高字节存储在内存的低地址处，低字节存储在内存的高地址处。例如，对于十六进制数 0x12345678，在大端模式下，内存低地址到高地址依次存储 0x12、0x34、0x56、0x78,l类似于人们正常的读写顺序。
- **小端模式**：数据的低字节存储在内存的低地址处，高字节存储在内存的高地址处。同样对于 0x12345678，小端模式下内存低地址到高地址依次存储 0x78、0x56、0x34、0x12。
1. **指针**
- **指针与数组的关系**：数组名本质上是数组首元素的地址，是一个const指针。
- 指针和函数的关系：通过构建函数指针，与结构体一起使用，可以在循环中调用不同的函数，实现不同的功能，定义格式为返回类型 (*指针名)(参数列表);。
1. **头文件的运用**

**(1) 头文件的作用**：

- 声明函数、变量、结构体、宏等，使得在多个源文件中可以共享这些声明。
- 包含其他头文件，实现代码的模块化组织。
- 定义宏常量、宏函数等，提高代码的可维护性和可读性。

**(2)防止头文件重复包含**：

- 使用预处理指令#ifndef、#define、#endif或#pragma once来防止头文件被重复包含。
1. 枚举常量：
- 比#define更好修改和赋值

# 二、数据结构：

## 1. 队列：

- 通过C语言编写了队列的一些基本函数，理解了先进先出的队列原理

## 2. 栈：

- 通过C语言写了栈的函数，入栈出栈，栈跟队列不同的是，栈的一端base是不动的，是先进后出。

# 三、STM32

- STM32 是 ST 公司（意法半导体）推出的基于 ARM Cortex-M 内核的 32 位微控制器（MCU），广泛用于嵌入式开发（如物联网、工业控制、智能家居等）。

核心特点

- 内核架构：基于 ARM Cortex-M 系列（如 M0、M3、M4、M7 等），不同内核对应不同性能（主频、运算能力等），例如 STM32F1 用 M3 内核，STM32F4 用 M4 内核（带 FPU 浮点单元）。
- 外设资源：集成丰富外设，如 GPIO（通用输入输出）、UART（串口）、SPI（串行外设接口）、I2C（两线制接口）、ADC（模数转换）、DAC（数模转换）、定时器等，可直接驱动外部设备。
- 存储与时钟：内置 Flash（存程序）和 SRAM（运行时数据），支持外部时钟（晶振）和内部时钟，通过时钟树配置系统主频（如 72MHz、168MHz 等）。
- 开发方式：需通过 C 语言（或汇编）编写程序，控制寄存器或调用库函数操作外设，最终下载到芯片运行。

## 1. STM32 与 Keil 的关系

Keil MDK 是 STM32 程序开发的主流集成开发环境（IDE），负责代码的编写、编译、调试全流程。

核心作用

- 工程管理：创建针对 STM32 具体型号（如 STM32F103C8T6）的工程，管理源代码、库文件等。
- 代码编译：通过 ARM 编译器（如 ARMCC）将 C 代码转换为 STM32 可执行的机器码（.hex 或 .bin 文件）。
- 调试功能：支持通过仿真器（如 ST-Link、J-Link）连接 STM32 硬件，实现单步执行、断点调试、查看寄存器/内存数据等，验证程序逻辑。

## 2. STM32 与 CubeMX 的关系。

- 外设配置：通过可视化界面选择 STM32 型号，图形化配置时钟树、GPIO 模式（输入/输出、上拉/下拉），无需手动编写复杂的初始化代码。
- 代码生成：根据配置自动生成基于 HAL 库（硬件抽象层）的初始化代码，包含工程框架、外设初始化函数等，并可直接导出为 Keil 工程文件。